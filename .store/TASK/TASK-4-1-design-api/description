Specify the Elisp API contracts for get_line_ranges and update_line_ranges: parameter shapes, sorting rules (descending by start), rejection of overlapping or out-of-bounds ranges, required verification semantics (hash/text), failure behavior (fail fast via error), return value shapes, hashing details (raw bytes, exact slice), and all-or-nothing write policy. Document whether replace_line_ranges is removed. Produce a short summary in comments or docstrings to guide implementation and tests.