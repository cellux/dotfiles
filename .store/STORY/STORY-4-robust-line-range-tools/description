Implement safer line-range utilities to replace replace_line_ranges. Add get_line_ranges (start/end inclusive) returning text and MD5 hash of the exact slice (raw bytes, exact newlines, no normalization). Add update_line_ranges that validates each range via text_hash and/or old_text (if both provided, both must match), rejects out-of-bounds ranges, rejects overlapping ranges, sorts ranges by descending start, applies replacements all-or-nothing, and fails fast on first mismatch. On success, returns list of {start,end,updated:true}. Remove the old replace_line_ranges tool after the new ones are in place, keeping interface conventions consistent with existing tools.